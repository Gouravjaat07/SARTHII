<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Goals & Challenges - SARTHI</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap');
        
        * {
            font-family: 'Inter', sans-serif;
        }
        
        .gradient-text {
            background: linear-gradient(to right, #4f46e5, #7c3aed);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .hover-scale {
            transition: transform 0.3s ease;
        }
        
        .hover-scale:hover {
            transform: scale(1.05);
        }
        
        .smooth-transition {
            transition: all 0.3s ease;
        }

        .progress-ring {
            transition: stroke-dashoffset 0.5s ease;
        }

        .badge-shine {
            position: relative;
            overflow: hidden;
        }

        .badge-shine::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.3), transparent);
            transform: rotate(45deg);
            animation: shine 3s infinite;
        }

        @keyframes shine {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
        }

        .task-checkbox:checked + label {
            text-decoration: line-through;
            opacity: 0.6;
        }
    </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50">
    
    <!-- Sidebar -->
    <aside id="sidebar" class="fixed top-0 left-0 z-40 w-64 h-screen transition-transform -translate-x-full lg:translate-x-0 bg-white shadow-xl border-r border-gray-200">
        <div class="h-full px-3 py-6 overflow-y-auto">
            <!-- Logo -->
            <div class="flex items-center mb-8 px-3">
                <div class="w-10 h-10 bg-gradient-to-br from-indigo-600 to-purple-600 rounded-lg flex items-center justify-center mr-3">
                    <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/>
                    </svg>
                </div>
                <div>
                    <h2 class="text-xl font-bold gradient-text">SARTHI</h2>
                    <p class="text-xs text-gray-500">Career Navigator</p>
                </div>
            </div>

            <!-- Navigation -->
            <ul class="space-y-2">
                <li>
                    <a href="/sarthi/homepage" class="flex items-center p-3 rounded-lg smooth-transition text-gray-700 hover:bg-indigo-50 hover:text-indigo-700">
                        <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"/>
                        </svg>
                        <span class="font-medium">Home</span>
                    </a>
                </li>
                <li>
                    <a href="/sarthi/profile" class="flex items-center p-3 rounded-lg smooth-transition text-gray-700 hover:bg-indigo-50 hover:text-indigo-700">
                        <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
                        </svg>
                        <span class="font-medium">Profile</span>
                    </a>
                </li>
                <li>
                    <a href="/sarthi/yt-course" class="flex items-center p-3 rounded-lg smooth-transition text-gray-700 hover:bg-indigo-50 hover:text-indigo-700">
                        <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"/>
                        </svg>
                        <span class="font-medium">YT Courses</span>
                    </a>
                </li>
                <li>
                    <a href="/sarthi/challenges" class="flex items-center p-3 rounded-lg smooth-transition bg-indigo-50 text-indigo-700">
                        <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
                        </svg>
                        <span class="font-medium">Challenges & Goals</span>
                    </a>
                </li>
                <li>
                    <a href="/sarthi/mentorship" class="flex items-center p-3 rounded-lg smooth-transition text-gray-700 hover:bg-indigo-50 hover:text-indigo-700">
                        <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"/>
                        </svg>
                        <span class="font-medium">Mentorship 1:1</span>
                    </a>
                </li>
                <li>
                    <a href="/sarthi/jobs" class="flex items-center p-3 rounded-lg smooth-transition text-gray-700 hover:bg-indigo-50 hover:text-indigo-700">
                        <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
                        </svg>
                        <span class="font-medium">Job Match</span>
                    </a>
                </li>
                <li>
                    <a href="/sarthi/academics" class="flex items-center p-3 rounded-lg smooth-transition text-gray-700 hover:bg-indigo-50 hover:text-indigo-700">
                        <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/>
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"/>
                        </svg>
                        <span class="font-medium">Nearby Academics</span>
                    </a>
                </li>
                <li>
                    <a href="#logout" class="flex items-center p-3 rounded-lg smooth-transition text-red-600 hover:bg-red-50">
                        <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"/>
                        </svg>
                        <span class="font-medium">Logout</span>
                    </a>
                </li>
            </ul>
        </div>
    </aside>

    <!-- Mobile sidebar toggle -->
    <button id="sidebarToggle" class="fixed top-4 left-4 z-50 lg:hidden p-2 bg-white rounded-lg shadow-lg">
        <svg id="menuIcon" class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>
        </svg>
    </button>

    <!-- Main Content -->
    <div class="lg:ml-64">
        <!-- Header -->
        <header class="bg-white shadow-sm sticky top-0 z-30">
            <div class="px-6 py-4">
                <div class="flex items-center justify-between">
                    <div>
                        <h1 class="text-2xl font-bold text-gray-900">Goals & Challenges</h1>
                        <p class="text-gray-600">Track your progress and achieve your career goals</p>
                    </div>
                    <button id="newGoalBtn" class="px-6 py-2 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-lg font-semibold hover:shadow-lg smooth-transition">
                        + New Goal
                    </button>
                </div>
            </div>
        </header>

        <!-- Main Content Area -->
        <div class="p-6">
            <div class="max-w-7xl mx-auto">
                
                <!-- Stats Overview -->
                <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
                    <div class="bg-white p-6 rounded-xl shadow-md hover:shadow-lg smooth-transition">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-gray-500 text-sm font-medium">Active Goals</p>
                                <p class="text-3xl font-bold text-gray-900 mt-1" id="activeGoalsCount">0</p>
                            </div>
                            <div class="w-12 h-12 bg-indigo-100 rounded-lg flex items-center justify-center">
                                <svg class="w-6 h-6 text-indigo-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
                                </svg>
                            </div>
                        </div>
                    </div>

                    <div class="bg-white p-6 rounded-xl shadow-md hover:shadow-lg smooth-transition">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-gray-500 text-sm font-medium">Tasks Completed</p>
                                <p class="text-3xl font-bold text-gray-900 mt-1" id="tasksCompletedCount">0</p>
                            </div>
                            <div class="w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center">
                                <svg class="w-6 h-6 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                                </svg>
                            </div>
                        </div>
                    </div>

                    <div class="bg-white p-6 rounded-xl shadow-md hover:shadow-lg smooth-transition">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-gray-500 text-sm font-medium">Current Streak</p>
                                <p class="text-3xl font-bold text-gray-900 mt-1" id="currentStreak">0</p>
                            </div>
                            <div class="w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center">
                                <svg class="w-6 h-6 text-orange-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 18.657A8 8 0 016.343 7.343S7 9 9 10c0-2 .5-5 2.986-7C14 5 16.09 5.777 17.656 7.343A7.975 7.975 0 0120 13a7.975 7.975 0 01-2.343 5.657z"/>
                                </svg>
                            </div>
                        </div>
                    </div>

                    <div class="bg-white p-6 rounded-xl shadow-md hover:shadow-lg smooth-transition">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-gray-500 text-sm font-medium">Badges Earned</p>
                                <p class="text-3xl font-bold text-gray-900 mt-1" id="badgesEarned">0</p>
                            </div>
                            <div class="w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center">
                                <svg class="w-6 h-6 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"/>
                                </svg>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Active Goals Section -->
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                    <!-- Goals List -->
                    <div class="lg:col-span-2">
                        <div class="bg-white rounded-xl shadow-md p-6 mb-6">
                            <h2 class="text-xl font-bold text-gray-900 mb-4">Your Goals</h2>
                            <div id="goalsContainer" class="space-y-4">
                                <!-- Goals will be dynamically added here -->
                                <div class="text-center py-12 text-gray-400">
                                    <svg class="w-16 h-16 mx-auto mb-4 opacity-50" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
                                    </svg>
                                    <p class="text-lg font-medium">No goals yet</p>
                                    <p class="text-sm">Click "New Goal" to get started!</p>
                                </div>
                            </div>
                        </div>

                        <!-- Daily Tasks Section -->
                        <div class="bg-white rounded-xl shadow-md p-6" id="tasksSection" style="display: none;">
                            <div class="flex items-center justify-between mb-4">
                                <h2 class="text-xl font-bold text-gray-900">Today's Tasks</h2>
                                <button id="addTaskBtn" class="text-indigo-600 hover:text-indigo-700 font-semibold text-sm">+ Add Task</button>
                            </div>
                            <div id="tasksContainer" class="space-y-3">
                                <!-- Tasks will be dynamically added here -->
                            </div>
                        </div>
                    </div>

                    <!-- Sidebar -->
                    <div class="space-y-6">
                        <!-- Progress Circle -->
                        <div class="bg-white rounded-xl shadow-md p-6">
                            <h3 class="text-lg font-bold text-gray-900 mb-4">Overall Progress</h3>
                            <div class="flex justify-center mb-4">
                                <div class="relative w-32 h-32">
                                    <svg class="transform -rotate-90 w-32 h-32">
                                        <circle cx="64" cy="64" r="56" stroke="#e5e7eb" stroke-width="8" fill="none" />
                                        <circle id="progressCircle" cx="64" cy="64" r="56" stroke="url(#gradient)" stroke-width="8" fill="none" 
                                                stroke-dasharray="351.86" stroke-dashoffset="351.86" class="progress-ring" />
                                        <defs>
                                            <linearGradient id="gradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                                <stop offset="0%" style="stop-color:#4f46e5;stop-opacity:1" />
                                                <stop offset="100%" style="stop-color:#7c3aed;stop-opacity:1" />
                                            </linearGradient>
                                        </defs>
                                    </svg>
                                    <div class="absolute inset-0 flex items-center justify-center">
                                        <span id="progressPercent" class="text-2xl font-bold text-gray-900">0%</span>
                                    </div>
                                </div>
                            </div>
                            <p class="text-center text-gray-600 text-sm">Keep going! You're making progress!</p>
                        </div>

                        <!-- Badges Section -->
                        <div class="bg-white rounded-xl shadow-md p-6">
                            <h3 class="text-lg font-bold text-gray-900 mb-4">Your Badges</h3>
                            <div class="grid grid-cols-3 gap-4" id="badgesContainer">
                                <!-- Badge: First Goal -->
                                <div class="text-center badge-locked" data-badge="firstGoal">
                                    <div class="w-16 h-16 mx-auto mb-2 bg-gray-200 rounded-full flex items-center justify-center">
                                        <svg class="w-8 h-8 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"/>
                                        </svg>
                                    </div>
                                    <p class="text-xs text-gray-500 font-medium">Starter</p>
                                </div>

                                <!-- Badge: 7 Day Streak -->
                                <div class="text-center badge-locked" data-badge="weekStreak">
                                    <div class="w-16 h-16 mx-auto mb-2 bg-gray-200 rounded-full flex items-center justify-center">
                                        <svg class="w-8 h-8 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 18.657A8 8 0 016.343 7.343S7 9 9 10c0-2 .5-5 2.986-7C14 5 16.09 5.777 17.656 7.343A7.975 7.975 0 0120 13a7.975 7.975 0 01-2.343 5.657z"/>
                                        </svg>
                                    </div>
                                    <p class="text-xs text-gray-500 font-medium">7 Day Fire</p>
                                </div>

                                <!-- Badge: 10 Tasks -->
                                <div class="text-center badge-locked" data-badge="taskMaster">
                                    <div class="w-16 h-16 mx-auto mb-2 bg-gray-200 rounded-full flex items-center justify-center">
                                        <svg class="w-8 h-8 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
                                        </svg>
                                    </div>
                                    <p class="text-xs text-gray-500 font-medium">Achiever</p>
                                </div>

                                <!-- Badge: First Goal Complete -->
                                <div class="text-center badge-locked" data-badge="goalComplete">
                                    <div class="w-16 h-16 mx-auto mb-2 bg-gray-200 rounded-full flex items-center justify-center">
                                        <svg class="w-8 h-8 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"/>
                                        </svg>
                                    </div>
                                    <p class="text-xs text-gray-500 font-medium">Champion</p>
                                </div>

                                <!-- Badge: 30 Day Streak -->
                                <div class="text-center badge-locked" data-badge="monthStreak">
                                    <div class="w-16 h-16 mx-auto mb-2 bg-gray-200 rounded-full flex items-center justify-center">
                                        <svg class="w-8 h-8 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v13m0-13V6a2 2 0 112 2h-2zm0 0V5.5A2.5 2.5 0 109.5 8H12zm-7 4h14M5 12a2 2 0 110-4h14a2 2 0 110 4M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/>
                                        </svg>
                                    </div>
                                    <p class="text-xs text-gray-500 font-medium">Dedicated</p>
                                </div>

                                <!-- Badge: 50 Tasks -->
                                <div class="text-center badge-locked" data-badge="taskExpert">
                                    <div class="w-16 h-16 mx-auto mb-2 bg-gray-200 rounded-full flex items-center justify-center">
                                        <svg class="w-8 h-8 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"/>
                                        </svg>
                                    </div>
                                    <p class="text-xs text-gray-500 font-medium">Expert</p>
                                </div>
                            </div>
                        </div>

                        <!-- Motivation Quote -->
                        <div class="bg-gradient-to-br from-indigo-500 to-purple-600 rounded-xl shadow-md p-6 text-white">
                            <svg class="w-8 h-8 mb-3 opacity-80" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"/>
                            </svg>
                            <p class="font-semibold mb-2">Daily Motivation</p>
                            <p class="text-sm opacity-90" id="motivationQuote">The secret of getting ahead is getting started.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- New Goal Modal -->
    <div id="goalModal" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto">
            <div class="sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between">
                <h2 class="text-2xl font-bold text-gray-900">Create New Goal</h2>
                <button id="closeModal" class="text-gray-400 hover:text-gray-600">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
                    </svg>
                </button>
            </div>
            
            <div class="p-6">
                <form id="goalForm">
                    <!-- Goal Title -->
                    <div class="mb-6">
                        <label class="block text-gray-700 font-semibold mb-2">Goal Title</label>
                        <input type="text" id="goalTitle" required 
                               class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"
                               placeholder="e.g., Learn Full Stack Development">
                    </div>

                    <!-- Goal Description -->
                    <div class="mb-6">
                        <label class="block text-gray-700 font-semibold mb-2">Describe Your Goal</label>
                        <textarea id="goalDescription" required rows="3"
                                  class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"
                                  placeholder="What do you want to achieve? Be specific..."></textarea>
                    </div>

                    <!-- Timeline -->
                    <div class="grid grid-cols-2 gap-4 mb-6">
                        <div>
                            <label class="block text-gray-700 font-semibold mb-2">Start Date</label>
                            <input type="date" id="startDate" required
                                   class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent">
                        </div>
                        <div>
                            <label class="block text-gray-700 font-semibold mb-2">Target Date</label>
                            <input type="date" id="targetDate" required
                                   class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent">
                        </div>
                    </div>

                    <!-- Number of Daily Tasks -->
                    <div class="mb-6">
                        <label class="block text-gray-700 font-semibold mb-2">Daily Tasks (AI Generated)</label>
                        <div class="flex items-center space-x-4">
                            <input type="range" id="taskCount" min="3" max="10" value="5" 
                                   class="flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer">
                            <span id="taskCountValue" class="text-2xl font-bold text-indigo-600 w-12 text-center">5</span>
                        </div>
                        <p class="text-sm text-gray-500 mt-2">AI will generate this many essential daily tasks</p>
                    </div>

                    <!-- Priority -->
                    <div class="mb-6">
                        <label class="block text-gray-700 font-semibold mb-2">Priority Level</label>
                        <div class="grid grid-cols-3 gap-3">
                            <label class="relative flex items-center justify-center p-3 border-2 border-gray-300 rounded-lg cursor-pointer hover:border-indigo-500 smooth-transition">
                                <input type="radio" name="priority" value="low" class="sr-only peer">
                                <span class="peer-checked:text-indigo-600 font-semibold">Low</span>
                                <div class="absolute inset-0 border-2 border-indigo-600 rounded-lg opacity-0 peer-checked:opacity-100"></div>
                            </label>
                            <label class="relative flex items-center justify-center p-3 border-2 border-gray-300 rounded-lg cursor-pointer hover:border-indigo-500 smooth-transition">
                                <input type="radio" name="priority" value="medium" checked class="sr-only peer">
                                <span class="peer-checked:text-indigo-600 font-semibold">Medium</span>
                                <div class="absolute inset-0 border-2 border-indigo-600 rounded-lg opacity-0 peer-checked:opacity-100"></div>
                            </label>
                            <label class="relative flex items-center justify-center p-3 border-2 border-gray-300 rounded-lg cursor-pointer hover:border-indigo-500 smooth-transition">
                                <input type="radio" name="priority" value="high" class="sr-only peer">
                                <span class="peer-checked:text-indigo-600 font-semibold">High</span>
                                <div class="absolute inset-0 border-2 border-indigo-600 rounded-lg opacity-0 peer-checked:opacity-100"></div>
                            </label>
                        </div>
                    </div>

                    <!-- AI Analysis Notice -->
                    <div class="bg-indigo-50 border border-indigo-200 rounded-lg p-4 mb-6">
                        <div class="flex items-start">
                            <svg class="w-5 h-5 text-indigo-600 mr-3 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                            </svg>
                            <div class="text-sm text-indigo-900">
                                <p class="font-semibold mb-1">AI-Powered Task Generation</p>
                                <p>Our AI will analyze your goal and generate personalized daily tasks to help you achieve it efficiently.</p>
                            </div>
                        </div>
                    </div>

                    <!-- Submit Button -->
                    <button type="submit" 
                            class="w-full px-6 py-4 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-lg font-bold text-lg hover:shadow-xl smooth-transition flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/>
                        </svg>
                        Generate Goal & Tasks
                    </button>
                </form>
            </div>
        </div>
    </div>

    <!-- Add Task Modal -->
    <div id="addTaskModal" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl shadow-2xl max-w-md w-full">
            <div class="px-6 py-4 border-b border-gray-200 flex items-center justify-between">
                <h3 class="text-xl font-bold text-gray-900">Add Custom Task</h3>
                <button id="closeAddTaskModal" class="text-gray-400 hover:text-gray-600">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
                    </svg>
                </button>
            </div>
            <div class="p-6">
                <form id="addTaskForm">
                    <div class="mb-4">
                        <label class="block text-gray-700 font-semibold mb-2">Task Description</label>
                        <input type="text" id="customTaskInput" required
                               class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"
                               placeholder="Enter your task...">
                    </div>
                    <button type="submit"
                            class="w-full px-6 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-lg font-semibold hover:shadow-lg smooth-transition">
                        Add Task
                    </button>
                </form>
            </div>
        </div>
    </div>

    <script>
        // Initialize data
        let goals = JSON.parse(localStorage.getItem('sarthiGoals')) || [];
        let stats = JSON.parse(localStorage.getItem('sarthiStats')) || {
            tasksCompleted: 0,
            currentStreak: 0,
            badgesEarned: 0,
            lastCompletionDate: null
        };
        let currentGoalId = null;

        // Motivation quotes
        const quotes = [
            "The secret of getting ahead is getting started.",
            "Success is the sum of small efforts repeated day in and day out.",
            "Don't watch the clock; do what it does. Keep going.",
            "The only way to do great work is to love what you do.",
            "Believe you can and you're halfway there.",
            "Your limitationâ€”it's only your imagination.",
            "Push yourself, because no one else is going to do it for you.",
            "Great things never come from comfort zones.",
            "Dream it. Wish it. Do it.",
            "Success doesn't just find you. You have to go out and get it."
        ];

        // Set random quote on page load
        document.getElementById('motivationQuote').textContent = quotes[Math.floor(Math.random() * quotes.length)];

        // AI Task Generator (simulated)
        function generateAITasks(goalTitle, goalDescription, taskCount) {
            const taskTemplates = {
                'learn': [
                    'Study fundamentals and core concepts',
                    'Watch tutorial videos or read documentation',
                    'Practice with hands-on exercises',
                    'Build a small project applying what you learned',
                    'Review and take notes on key concepts',
                    'Join online communities and ask questions',
                    'Complete coding challenges',
                    'Research best practices and patterns',
                    'Create a study schedule',
                    'Share your progress with others'
                ],
                'build': [
                    'Plan project architecture and features',
                    'Set up development environment',
                    'Implement core functionality',
                    'Write and test code',
                    'Debug and fix issues',
                    'Optimize performance',
                    'Document your code',
                    'Review progress and adjust plan',
                    'Seek feedback from peers',
                    'Deploy and share your work'
                ],
                'practice': [
                    'Solve coding problems',
                    'Work on personal projects',
                    'Contribute to open source',
                    'Participate in coding challenges',
                    'Review and refactor old code',
                    'Learn new tools and frameworks',
                    'Write technical blogs',
                    'Attend workshops or webinars',
                    'Pair program with others',
                    'Build portfolio projects'
                ],
                'career': [
                    'Update resume and portfolio',
                    'Apply to relevant positions',
                    'Network with professionals',
                    'Prepare for interviews',
                    'Learn industry-relevant skills',
                    'Attend career events',
                    'Connect on LinkedIn',
                    'Research target companies',
                    'Practice mock interviews',
                    'Build your personal brand'
                ],
                'default': [
                    'Break down goal into smaller steps',
                    'Research best approaches and resources',
                    'Create a detailed action plan',
                    'Dedicate focused time daily',
                    'Track your progress regularly',
                    'Seek guidance from mentors',
                    'Join relevant communities',
                    'Stay consistent with daily efforts',
                    'Review and adjust strategy',
                    'Celebrate small wins'
                ]
            };

            const goalLower = (goalTitle + ' ' + goalDescription).toLowerCase();
            let selectedTemplates = taskTemplates.default;

            for (let key in taskTemplates) {
                if (goalLower.includes(key)) {
                    selectedTemplates = taskTemplates[key];
                    break;
                }
            }

            // Shuffle and select requested number of tasks
            const shuffled = selectedTemplates.sort(() => 0.5 - Math.random());
            return shuffled.slice(0, parseInt(taskCount));
        }

        // Modal controls
        document.getElementById('newGoalBtn').addEventListener('click', () => {
            document.getElementById('goalModal').classList.remove('hidden');
            // Set default dates
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('startDate').value = today;
            const threeMonthsLater = new Date();
            threeMonthsLater.setMonth(threeMonthsLater.getMonth() + 3);
            document.getElementById('targetDate').value = threeMonthsLater.toISOString().split('T')[0];
        });

        document.getElementById('closeModal').addEventListener('click', () => {
            document.getElementById('goalModal').classList.add('hidden');
        });

        // Task count slider
        document.getElementById('taskCount').addEventListener('input', (e) => {
            document.getElementById('taskCountValue').textContent = e.target.value;
        });

        // Goal form submission
        document.getElementById('goalForm').addEventListener('submit', (e) => {
            e.preventDefault();
            
            const goalData = {
                id: Date.now(),
                title: document.getElementById('goalTitle').value,
                description: document.getElementById('goalDescription').value,
                startDate: document.getElementById('startDate').value,
                targetDate: document.getElementById('targetDate').value,
                taskCount: document.getElementById('taskCount').value,
                priority: document.querySelector('input[name="priority"]:checked').value,
                tasks: generateAITasks(
                    document.getElementById('goalTitle').value,
                    document.getElementById('goalDescription').value,
                    document.getElementById('taskCount').value
                ).map(task => ({
                    id: Date.now() + Math.random(),
                    text: task,
                    completed: false,
                    date: new Date().toISOString()
                })),
                progress: 0,
                createdAt: new Date().toISOString()
            };

            goals.push(goalData);
            localStorage.setItem('sarthiGoals', JSON.stringify(goals));
            
            // Award first goal badge
            if (goals.length === 1) {
                awardBadge('firstGoal');
            }

            document.getElementById('goalModal').classList.add('hidden');
            document.getElementById('goalForm').reset();
            renderGoals();
            updateStats();
        });

        // Render goals
        function renderGoals() {
            const container = document.getElementById('goalsContainer');
            
            if (goals.length === 0) {
                container.innerHTML = `
                    <div class="text-center py-12 text-gray-400">
                        <svg class="w-16 h-16 mx-auto mb-4 opacity-50" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
                        </svg>
                        <p class="text-lg font-medium">No goals yet</p>
                        <p class="text-sm">Click "New Goal" to get started!</p>
                    </div>
                `;
                return;
            }

            container.innerHTML = goals.map(goal => {
                const progress = Math.round((goal.tasks.filter(t => t.completed).length / goal.tasks.length) * 100);
                const daysLeft = Math.ceil((new Date(goal.targetDate) - new Date()) / (1000 * 60 * 60 * 24));
                
                const priorityColors = {
                    low: 'bg-green-100 text-green-800',
                    medium: 'bg-yellow-100 text-yellow-800',
                    high: 'bg-red-100 text-red-800'
                };

                return `
                    <div class="border border-gray-200 rounded-xl p-6 hover:shadow-lg smooth-transition cursor-pointer" onclick="selectGoal(${goal.id})">
                        <div class="flex items-start justify-between mb-4">
                            <div class="flex-1">
                                <h3 class="text-lg font-bold text-gray-900 mb-1">${goal.title}</h3>
                                <p class="text-sm text-gray-600 mb-3">${goal.description}</p>
                                <div class="flex items-center space-x-3 text-xs">
                                    <span class="px-2 py-1 ${priorityColors[goal.priority]} rounded-full font-medium">
                                        ${goal.priority.toUpperCase()}
                                    </span>
                                    <span class="text-gray-500">
                                        <svg class="w-4 h-4 inline mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/>
                                        </svg>
                                        ${daysLeft} days left
                                    </span>
                                </div>
                            </div>
                            <button onclick="deleteGoal(${goal.id}); event.stopPropagation();" class="text-gray-400 hover:text-red-500">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/>
                                </svg>
                            </button>
                        </div>
                        
                        <div class="space-y-2">
                            <div class="flex items-center justify-between text-sm">
                                <span class="text-gray-600 font-medium">Progress</span>
                                <span class="font-bold text-indigo-600">${progress}%</span>
                            </div>
                            <div class="w-full bg-gray-200 rounded-full h-3 overflow-hidden">
                                <div class="bg-gradient-to-r from-indigo-600 to-purple-600 h-3 rounded-full smooth-transition" style="width: ${progress}%"></div>
                            </div>
                            <div class="text-xs text-gray-500">
                                ${goal.tasks.filter(t => t.completed).length} of ${goal.tasks.length} tasks completed
                            </div>
                        </div>
                    </div>
                `;
            }).join('');
        }

        // Select goal and show tasks
        function selectGoal(goalId) {
            currentGoalId = goalId;
            const goal = goals.find(g => g.id === goalId);
            if (!goal) return;

            document.getElementById('tasksSection').style.display = 'block';
            renderTasks(goal);
        }

        // Render tasks
        function renderTasks(goal) {
            const container = document.getElementById('tasksContainer');
            
            container.innerHTML = goal.tasks.map(task => `
                <div class="flex items-start space-x-3 p-3 bg-gray-50 rounded-lg hover:bg-gray-100 smooth-transition">
                    <input type="checkbox" ${task.completed ? 'checked' : ''} 
                           onchange="toggleTask(${goal.id}, ${task.id})"
                           class="w-5 h-5 text-indigo-600 rounded mt-1 cursor-pointer task-checkbox">
                    <label class="flex-1 text-gray-700 cursor-pointer">
                        ${task.text}
                    </label>
                </div>
            `).join('');
        }

        // Toggle task completion
        function toggleTask(goalId, taskId) {
            const goal = goals.find(g => g.id === goalId);
            const task = goal.tasks.find(t => t.id === taskId);
            task.completed = !task.completed;

            if (task.completed) {
                stats.tasksCompleted++;
                updateStreak();
                checkBadges();
            } else {
                stats.tasksCompleted = Math.max(0, stats.tasksCompleted - 1);
            }

            // Update goal progress
            goal.progress = Math.round((goal.tasks.filter(t => t.completed).length / goal.tasks.length) * 100);

            // Check if goal is complete
            if (goal.progress === 100) {
                awardBadge('goalComplete');
            }

            localStorage.setItem('sarthiGoals', JSON.stringify(goals));
            localStorage.setItem('sarthiStats', JSON.stringify(stats));
            
            renderGoals();
            renderTasks(goal);
            updateStats();
        }

        // Delete goal
        function deleteGoal(goalId) {
            if (confirm('Are you sure you want to delete this goal?')) {
                goals = goals.filter(g => g.id !== goalId);
                localStorage.setItem('sarthiGoals', JSON.stringify(goals));
                
                if (currentGoalId === goalId) {
                    document.getElementById('tasksSection').style.display = 'none';
                    currentGoalId = null;
                }
                
                renderGoals();
                updateStats();
            }
        }

        // Update streak
        function updateStreak() {
            const today = new Date().toDateString();
            const lastDate = stats.lastCompletionDate;

            if (!lastDate || lastDate !== today) {
                const yesterday = new Date();
                yesterday.setDate(yesterday.getDate() - 1);
                
                if (lastDate === yesterday.toDateString()) {
                    stats.currentStreak++;
                } else if (!lastDate) {
                    stats.currentStreak = 1;
                } else {
                    stats.currentStreak = 1;
                }
                
                stats.lastCompletionDate = today;
                localStorage.setItem('sarthiStats', JSON.stringify(stats));
            }
        }

        // Check and award badges
        function checkBadges() {
            if (stats.tasksCompleted >= 10) awardBadge('taskMaster');
            if (stats.tasksCompleted >= 50) awardBadge('taskExpert');
            if (stats.currentStreak >= 7) awardBadge('weekStreak');
            if (stats.currentStreak >= 30) awardBadge('monthStreak');
        }

        // Award badge
        function awardBadge(badgeType) {
            const badgeElement = document.querySelector(`[data-badge="${badgeType}"]`);
            if (!badgeElement || !badgeElement.classList.contains('badge-locked')) return;

            badgeElement.classList.remove('badge-locked');
            
            const badgeColors = {
                firstGoal: 'from-yellow-400 to-yellow-600',
                weekStreak: 'from-orange-400 to-red-600',
                taskMaster: 'from-green-400 to-emerald-600',
                goalComplete: 'from-purple-400 to-pink-600',
                monthStreak: 'from-blue-400 to-indigo-600',
                taskExpert: 'from-indigo-400 to-purple-600'
            };

            const circle = badgeElement.querySelector('div');
            circle.className = `w-16 h-16 mx-auto mb-2 bg-gradient-to-br ${badgeColors[badgeType]} rounded-full flex items-center justify-center badge-shine`;
            circle.querySelector('svg').classList.remove('text-gray-400');
            circle.querySelector('svg').classList.add('text-white');
            
            stats.badgesEarned++;
            localStorage.setItem('sarthiStats', JSON.stringify(stats));
            updateStats();

            // Show celebration
            showCelebration(badgeElement.querySelector('p').textContent);
        }

        // Show celebration
        function showCelebration(badgeName) {
            const celebration = document.createElement('div');
            celebration.className = 'fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-white rounded-2xl shadow-2xl p-8 text-center z-50 animate-bounce';
            celebration.innerHTML = `
                <svg class="w-16 h-16 mx-auto mb-4 text-yellow-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"/>
                </svg>
                <h3 class="text-2xl font-bold text-gray-900 mb-2">Badge Earned! ðŸŽ‰</h3>
                <p class="text-lg text-gray-600">${badgeName}</p>
            `;
            document.body.appendChild(celebration);
            setTimeout(() => celebration.remove(), 3000);
        }

        // Update stats display
        function updateStats() {
            document.getElementById('activeGoalsCount').textContent = goals.length;
            document.getElementById('tasksCompletedCount').textContent = stats.tasksCompleted;
            document.getElementById('currentStreak').textContent = stats.currentStreak;
            document.getElementById('badgesEarned').textContent = stats.badgesEarned;

            // Update progress circle
            const totalTasks = goals.reduce((sum, goal) => sum + goal.tasks.length, 0);
            const completedTasks = goals.reduce((sum, goal) => sum + goal.tasks.filter(t => t.completed).length, 0);
            const overallProgress = totalTasks > 0 ? Math.round((completedTasks / totalTasks) * 100) : 0;
            
            document.getElementById('progressPercent').textContent = overallProgress + '%';
            const circumference = 2 * Math.PI * 56;
            const offset = circumference - (overallProgress / 100) * circumference;
            document.getElementById('progressCircle').style.strokeDashoffset = offset;
        }

        // Add custom task
        document.getElementById('addTaskBtn').addEventListener('click', () => {
            if (!currentGoalId) {
                alert('Please select a goal first');
                return;
            }
            document.getElementById('addTaskModal').classList.remove('hidden');
        });

        document.getElementById('closeAddTaskModal').addEventListener('click', () => {
            document.getElementById('addTaskModal').classList.add('hidden');
        });

        document.getElementById('addTaskForm').addEventListener('submit', (e) => {
            e.preventDefault();
            
            const taskText = document.getElementById('customTaskInput').value;
            const goal = goals.find(g => g.id === currentGoalId);
            
            if (goal) {
                goal.tasks.push({
                    id: Date.now() + Math.random(),
                    text: taskText,
                    completed: false,
                    date: new Date().toISOString()
                });
                
                localStorage.setItem('sarthiGoals', JSON.stringify(goals));
                renderTasks(goal);
                renderGoals();
                
                document.getElementById('addTaskModal').classList.add('hidden');
                document.getElementById('addTaskForm').reset();
            }
        });

        // Sidebar toggle
        const sidebar = document.getElementById('sidebar');
        const sidebarToggle = document.getElementById('sidebarToggle');
        const menuIcon = document.getElementById('menuIcon');

        sidebarToggle.addEventListener('click', () => {
            sidebar.classList.toggle('-translate-x-full');
            
            if (sidebar.classList.contains('-translate-x-full')) {
                menuIcon.innerHTML = '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>';
            } else {
                menuIcon.innerHTML = '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>';
            }
        });

        // Initialize
        renderGoals();
        updateStats();

        // Load saved badges
        const savedBadges = JSON.parse(localStorage.getItem('sarthiBadges')) || [];
        savedBadges.forEach(badge => {
            const element = document.querySelector(`[data-badge="${badge}"]`);
            if (element) {
                element.classList.remove('badge-locked');
                // Update visual appearance for unlocked badges
                const circle = element.querySelector('div');
                circle.classList.remove('bg-gray-200');
                circle.classList.add('bg-gradient-to-br', 'from-indigo-500', 'to-purple-600', 'badge-shine');
                circle.querySelector('svg').classList.remove('text-gray-400');
                circle.querySelector('svg').classList.add('text-white');
            }
        });
    </script>
</body>
</html>